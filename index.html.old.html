<!DOCTYPE html>
<html lang="pt">
  <head>
    <title>Gil Produções</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/jquery.embedly.js"></script>
  </head>
  <body>

    <div id="content" class="container">
      <div class="row example example-1">
          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <a class="vimeo-video" href="https://vimeo.com/55945051">Click to Watch in a Modal</a><br />
          <a class="vimeo-video" href="https://vimeo.com/157039826">Click to Watch in a Modal</a>
          <br />
          <br />
          <br />
          <iframe src="https://player.vimeo.com/video/153258664?autoplay=1" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
          <p><a href="https://vimeo.com/153258664">Demo Reel Social Gil Produ&ccedil;&otilde;es</a> from <a href="https://vimeo.com/gilproducoes">Gil Producoes</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
      </div>
      <div id="video-modal" class="modal hide" tabindex="-1" role="dialog">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
          <h3></h3>
        </div>
        <div class="modal-body">
          <p></p>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Fechar</button>
        </div>
      </div>
    </div>

    <script>
      $(document).ready(function(){
        $.embedly.defaults = {
          key:'9c06f86546d64da981faf6b760ea4b28',
          query: {
            maxwidth:770,
          },
          display: $.noop
        }

        $('.vimeo-video').on('click', function(){
          var url = $(this).attr('href');

          // Start the modal and on hide, clear the html out. This removes the embed.
          // It's important to do so as if a user starts playing a video, then closes
          // the modal the video will still be playing and the user will hear the sound.
          $('#video-modal').modal().on('hide', function(){
            $('#video-modal .modal-body').html('');
          })

          // Call Embedly
          $.embedly.oembed(url).progress(function(data){
              // Fill the modal header
              $('#video-modal .modal-header h3').html(data.title);

              // Fill the modal value.
              $('#video-modal .modal-body').html(data.html);
            });

          return false;
        });
      });
    </script>
  </body>
</html>
